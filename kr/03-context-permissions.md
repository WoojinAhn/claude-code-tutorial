# 모듈 3: 컨텍스트와 권한

Claude Code에는 "컨텍스트 윈도우"라는 제한이 있습니다. 대화가 길어지면 초반 내용을 잊어버리기 시작합니다.

이 모듈에서는 컨텍스트를 효율적으로 관리하는 방법과, Claude Code가 어떤 도구를 쓸 수 있는지 제어하는 권한 관리를 배웁니다.

---

## 3.1 /compact

**설명:** `/compact`는 지금까지의 대화를 요약해서 압축합니다. 컨텍스트 윈도우가 부족해질 때, 대화 내용을 버리지 않으면서도 공간을 확보할 수 있는 방법입니다.

**문법:**
```
/compact
/compact [커스텀 요약 지시]
```

**예시:** `/compact`를 실행하면 긴 대화가 핵심만 남긴 요약으로 대체됩니다. 커스텀 지시를 추가하면 특정 부분을 강조할 수도 있습니다:
```
/compact 아키텍처 관련 논의 위주로 요약해줘
```

이전 대화에서 나온 코드, 결정사항, 맥락은 요약에 포함되므로 작업을 이어갈 수 있습니다.

**실습:** 지금 `/compact`를 실행해보세요. 지금까지의 튜토리얼 대화가 어떻게 요약되는지 확인해보세요.

**확인:** 실행해봤나요? 대화가 요약됐다면, 핵심 내용이 잘 보존됐는지 확인해보세요. 어떤 결과가 나왔는지 알려주세요.

**팁:** `/compact`와 `/clear`의 차이를 다시 한번 정리하면:
- `/compact` → 대화를 **요약**해서 유지. 맥락은 살아있음.
- `/clear` → 대화를 **완전 삭제**. 깨끗한 백지 상태.

긴 코딩 세션에서는 `/compact`를 주기적으로 사용하는 게 좋습니다. Claude가 "아까 말한 그거"를 갑자기 못 알아듣기 시작하면, 컨텍스트 윈도우가 한계에 도달한 신호입니다. 그때 `/compact`를 써보세요.

---

## 3.2 /permissions

**설명:** `/permissions`는 Claude Code가 허락 없이 수행할 수 있는 도구와 작업을 관리합니다. 기본적으로 Claude Code는 파일 수정, 명령어 실행 등을 할 때 매번 허락을 구하는데, 신뢰하는 작업은 미리 허용해두면 워크플로우가 훨씬 빨라집니다.

**문법:**
```
/permissions
```

**예시:** `/permissions`를 실행하면 현재 권한 설정이 나옵니다. 권한은 크게 세 가지 레벨로 나뉩니다:

- **Allow (허용):** 확인 없이 바로 실행. 예를 들어, 특정 디렉토리의 파일 읽기를 항상 허용.
- **Deny (거부):** 항상 차단. 민감한 디렉토리 접근 등을 막을 때.
- **Ask (질문):** 매번 물어봄. 기본값.

권한 설정 예시:
- `Read` 도구에 대해 프로젝트 디렉토리 내 파일 읽기를 항상 허용
- `Bash` 도구에 대해 `npm test`, `npm run build` 같은 안전한 명령어를 항상 허용
- `Write` 도구에 대해 특정 파일 수정을 항상 허용

**실습:** 지금 `/permissions`를 실행해보세요. 현재 어떤 권한들이 설정되어 있는지 확인해보세요.

**확인:** 실행해봤나요? 어떤 도구에 어떤 권한이 설정되어 있는지 보이나요? 어떤 결과가 나왔는지 알려주세요.

**팁:** 권한 설정은 편의성과 안전성의 트레이드오프입니다. 자주 쓰는 안전한 작업(테스트 실행, lint 등)은 Allow로 설정해두면 매번 "허용하시겠습니까?"를 클릭하는 수고를 줄일 수 있습니다. 하지만 파일 삭제나 git push 같은 되돌리기 어려운 작업은 Ask로 남겨두는 게 안전합니다.

---

## 모듈 3 완료!

**진행률: [############........] 3/5 모듈 완료**

컨텍스트와 권한 관리 커맨드를 배웠습니다:
- `/compact` — 대화 압축으로 컨텍스트 절약
- `/permissions` — 도구 권한 관리

이 두 가지는 Claude Code를 오래 쓸수록 중요해집니다. 특히 `/compact`는 긴 작업 세션의 필수템입니다.

다음은 **모듈 4 — 개발자 도구**입니다. 문제 진단, 에디터 설정, 코드 리뷰 등 개발 워크플로우를 도와주는 도구들을 배웁니다.

계속할까요? 준비되면 `04-dev-tools.md`를 열어주세요.
